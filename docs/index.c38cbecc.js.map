{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-3ed725f900e9531c.js","node_modules/@parcel/runtime-js/lib/helpers/bundle-url.js","node_modules/@parcel/runtime-js/lib/runtime-206b310de87487bd.js","node_modules/@parcel/runtime-js/lib/runtime-7fc588b0fb039abf.js","node_modules/@parcel/runtime-js/lib/runtime-a7ec7cd95d444ee5.js","node_modules/@parcel/runtime-js/lib/runtime-0195c02516b1de66.js","node_modules/@parcel/runtime-js/lib/runtime-c21606d3b946d0e5.js","src/constants/rebuses.js","src/js/index.js","src/js/quest.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"bparW\\\":\\\"index.c38cbecc.js\\\",\\\"lkOGK\\\":\\\"puzzle1.9bde11af.png\\\",\\\"a1AoH\\\":\\\"puzzle2.c4f28512.jpeg\\\",\\\"rCnLT\\\":\\\"puzzle3.1d9a0bb7.png\\\",\\\"hZsin\\\":\\\"puzzle4.8cf7f628.png\\\",\\\"e2Xqw\\\":\\\"puzzle5.8665d590.png\\\"}\"));","\"use strict\";\n\nvar bundleURL = {};\n\nfunction getBundleURLCached(id) {\n  var value = bundleURL[id];\n\n  if (!value) {\n    value = getBundleURL();\n    bundleURL[id] = value;\n  }\n\n  return value;\n}\n\nfunction getBundleURL() {\n  try {\n    throw new Error();\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp):\\/\\/[^)\\n]+/g);\n\n    if (matches) {\n      // The first two stack frames will be this function and getBundleURLCached.\n      // Use the 3rd one, which will be a runtime in the original bundle.\n      return getBaseURL(matches[2]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n} // TODO: Replace uses with `new URL(url).origin` when ie11 is no longer supported.\n\n\nfunction getOrigin(url) {\n  var matches = ('' + url).match(/(https?|file|ftp):\\/\\/[^/]+/);\n\n  if (!matches) {\n    throw new Error('Origin not found');\n  }\n\n  return matches[0];\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\nexports.getOrigin = getOrigin;","module.exports = require('./helpers/bundle-url').getBundleURL('bparW') + require('./helpers/bundle-manifest').resolve(\"lkOGK\");","module.exports = require('./helpers/bundle-url').getBundleURL('bparW') + require('./helpers/bundle-manifest').resolve(\"a1AoH\");","module.exports = require('./helpers/bundle-url').getBundleURL('bparW') + require('./helpers/bundle-manifest').resolve(\"rCnLT\");","module.exports = require('./helpers/bundle-url').getBundleURL('bparW') + require('./helpers/bundle-manifest').resolve(\"hZsin\");","module.exports = require('./helpers/bundle-url').getBundleURL('bparW') + require('./helpers/bundle-manifest').resolve(\"e2Xqw\");","import puzzle1 from '../../assets/puzzle1.png';\nimport puzzle2 from '../../assets/puzzle2.jpeg';\nimport puzzle3 from '../../assets/puzzle3.png';\nimport puzzle4 from '../../assets/puzzle4.png';\nimport puzzle5 from '../../assets/puzzle5.png';\n\nexport const rebuses = [\n  { image: puzzle1, answer: 'блокчейн' },\n  { image: puzzle2, answer: 'джуниор девелопер' },\n  { image: puzzle3, answer: 'туториал' },\n  { image: puzzle4, answer: 'хакатон' },\n  { image: puzzle5, answer: 'фронтенд' },\n];\n","import { rebuses } from '../constants';\nimport { Quest } from './quest';\n\nconst quest = new Quest();\n\nquest.init(rebuses);\n","export class Quest {\n  constructor() {\n    this.rebuses = [];\n    this.rebusImage = null;\n    this.form = null;\n    this.variantInput = null;\n    this.step = 0;\n    this.isValidAnswer = false;\n  }\n\n  init(rebuses) {\n    const rebusImage = document.getElementById('rebus-image');\n    const form = document.getElementById('quest-form');\n    const variantInput = document.getElementById('variant-field');\n\n    this.rebuses = rebuses;\n    this.rebusImage = rebusImage;\n    this.form = form;\n    this.variantInput = variantInput;\n\n    this.subscribeOnFormChange();\n    this.start();\n  }\n\n  start() {\n    console.log('quest is started', this.rebuses);\n  }\n\n  subscribeOnFormChange() {\n    if (!this.form) {\n      return;\n    }\n\n    this.form.addEventListener('submit', (event) => {\n      event.preventDefault();\n\n      const formData = new FormData(event.target);\n      const variantValue = formData.fd.get('variant');\n\n      if (!this.variantInput) {\n        return;\n      }\n\n      this.validateAnswerField(variantValue);\n\n      if (!this.isValidAnswer) {\n        return;\n      }\n\n      this.nextStep();\n      setTimeout(() => this.resetValidation(this.variantInput), 1000);\n    });\n  }\n\n  validateAnswerField(value) {\n    if (value !== this.rebuses[this.step].answer) {\n      this.variantInput.classList.remove('is-valid');\n      this.variantInput.classList.add('is-invalid');\n\n      this.isValidAnswer = false;\n    } else {\n      this.variantInput.classList.remove('is-invalid');\n      this.variantInput.classList.add('is-valid');\n\n      this.isValidAnswer = true;\n    }\n  }\n\n  nextStep() {\n    if (this.isLastStep()) {\n      return;\n    }\n\n    this.step += 1;\n\n    this.nextRebus();\n  }\n\n  nextRebus() {\n    if (this.isLastStep()) {\n      return;\n    }\n\n    this.rebusImage.src = this.rebuses[this.step].image;\n  }\n\n  isLastStep() {\n    return this.step === this.rebuses.length;\n  }\n\n  resetValidation(element) {\n    if (!element) {\n      return;\n    }\n\n    element.classList.remove('is-valid');\n    element.classList.remove('is-invalid');\n    this.isValidAnswer = false;\n  }\n}\n"],"names":["$8b4d1930797b255e$export$6503ec6e8aabbaf","$8b4d1930797b255e$export$f7ad0328861e2f03","$8b4d1930797b255e$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","parcelRequire","register","JSON","parse","$f29cd6c67ea13581$export$bdfd709ae4826697","$f29cd6c67ea13581$var$bundleURL","$f29cd6c67ea13581$var$getBaseURL","url","replace","value","err","matches","stack","match","$f29cd6c67ea13581$var$getBundleURL","$2783ca33fce2e195$exports","getBundleURL","resolve","$3f97d99f5aba41c3$exports","$d10d2f3d197b55b3$exports","$1aa9bb56ddabaa9e$exports","$fe86cbabcefa75a3$exports","$89f09fe595a01e95$export$15c67efd89b47f94","image","$parcel$interopDefault","answer","this","rebuses","rebusImage","form","variantInput","step","isValidAnswer","init","document","getElementById","subscribeOnFormChange","start","console","log","addEventListener","event","preventDefault","variantValue","FormData","target","fd","get","validateAnswerField","nextStep","setTimeout","resetValidation","classList","remove","add","isLastStep","nextRebus","src","element"],"version":3,"file":"index.c38cbecc.js.map"}